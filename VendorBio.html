<!DOCTYPE HTML>
<html lang="en">

<head>
	<title>VendorBio.html</title>
	<meta charset="UTF-8" />
</head>

<body>
	<h1>Vendor Bio</h1>
	<form>
		<fieldset>
			<legend>Create a Bio: </legend>
			<p>
				<label>Vendor Name: </label>
          <input type = "text"
                 id = "name"/>
        </p>
        <p>
          <label>Location: </label>
          <input type = "text"
                 id = "location"/>      
        </p>
        <p>
          <label>Hours: </label>
          <input type = "text"
                 id = "hours"/>
        </p>
        <p>
          <label>Phone Number: </label>
          <input type = "text"
                 id = "phonenumber"/>
        </p>
        <p>
          <label>Website: </label>
          <input type = "text"
                 id = "website"/>
        </p>
        <p>
          <label>Bio: </label>
          <input type = "text"
                 id = "bio"/>
        </p>
        <p>
          <label>Password: </label>
          <input type = "text"
                 id = "password"/>
        </p>
        <p>
      
      <input type="submit" id="Submit" onclick=""/> 
  
      </p>
      </fieldset>
    </form>
  </body>
  <script src="https://mysqljs.com/mysql.js" type="text/javascript"></script>

    <script>
      
      function createVendor() { 
        console.log("here");
        let name = document.getElementById("name").value
        let location = document.getElementById("location").value
        let hours = document.getElementById("hours").value
        let phonenumber = document.getElementById("phonenumber").value
        let website = document.getElementById("website").value
        let bio = document.getElementById("bio").value
        let password = document.getElementById("password").value

        let values = "\"" + name + "\", \"" + location + "\", \"" + hours + "\", \"" + phonenumber + "\", \"" + website + "\", \"" + bio + "\", \"" + password + "\";

        console.log(values);
        let sqlSelect = "SELECT * FROM Vendors WHERE name like \"" + name +";"
        let sqlStmt = "INSERT INTO Vendors (name, location, hours, phonenumber, website, bio, password) VALUES (" + values + ");";
        console.log(sqlStmt);
            MySql.Execute( 
              "107.180.1.16", 
              "group62021",
              "2021group6",
              "group62021",

              sqlSelect,
              function (data){
                console.log(data);
                console.log("result length: "+ data.Result.length);
                if (data.Result.length < 1){
                  insertsql();
                }
                else {
                 console.log('hi there');
                }
              }
              )
            function insertsql(){
              MySql.Execute(
                "107.180.1.16", 
                "group62021",
                "2021group6",
                "group62021",

                sqlStmt
              )
      }
          }
    </script>
</html>